ALTER TABLE DEVELOPMENT_ENTITIES ADD extended_desc CLOB;
CREATE TABLE APP_USER_PROPERTIES (ID BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH +1 INCREMENT BY +1 MINVALUE +1 MAXVALUE +9223372036854775807 NO CYCLE CACHE 20 NO ORDER),created_date TIMESTAMP,last_updated_by NUMERIC(19,0),last_updated TIMESTAMP,created_by NUMERIC(19,0),version NUMERIC(10,0) NOT NULL,data_type VARCHAR(255),prop_key VARCHAR(255),super_user_id BIGINT,user_id BIGINT,prop_value VARCHAR(255),PRIMARY KEY (id));
CREATE TABLE AUTH_HANDLER_REGISTRY (ID BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH +1 INCREMENT BY +1 MINVALUE +1 MAXVALUE +9223372036854775807 NO CYCLE CACHE 20 NO ORDER),created_date TIMESTAMP,last_updated_by NUMERIC(19,0),last_updated TIMESTAMP,created_by NUMERIC(19,0),version NUMERIC(10,0) NOT NULL,account_id VARCHAR(255),config_data_json CLOB,name VARCHAR(255),type VARCHAR(255),user_attrs_json CLOB,PRIMARY KEY (id));
CREATE TABLE AUDIT_LOGS (ID BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH +1 INCREMENT BY +1 MINVALUE +1 MAXVALUE +9223372036854775807 NO CYCLE CACHE 20 NO ORDER),created_date TIMESTAMP,last_updated_by NUMERIC(19,0),last_updated TIMESTAMP,created_by NUMERIC(19,0),version NUMERIC(10,0) NOT NULL,component VARCHAR(1000),hidden NUMERIC(1,0),msgCode VARCHAR(255),msgParams VARCHAR(1000),PRIMARY KEY (id));
CREATE TABLE DEVELOPMENT_ENTITIES_TAGS (dev_entity_id NUMERIC(19,0) NOT NULL,tag_id NUMERIC(19,0) NOT NULL,PRIMARY KEY (dev_entity_id, tag_id));
CREATE TABLE OPERATOR_CONFIG (ID BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH +1 INCREMENT BY +1 MINVALUE +1 MAXVALUE +9223372036854775807 NO CYCLE CACHE 20 NO ORDER),created_date TIMESTAMP,last_updated_by NUMERIC(19,0),last_updated TIMESTAMP,created_by NUMERIC(19,0),version NUMERIC(10,0) NOT NULL,data_type VARCHAR(255),operator_key VARCHAR(255),label VARCHAR(255),PRIMARY KEY (id));
CREATE TABLE PM_ACTION_CONFIG (ID BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH +1 INCREMENT BY +1 MINVALUE +1 MAXVALUE +9223372036854775807 NO CYCLE CACHE 20 NO ORDER),created_date TIMESTAMP,last_updated_by NUMERIC(19,0),last_updated TIMESTAMP,created_by NUMERIC(19,0),version NUMERIC(10,0) NOT NULL,name VARCHAR(255),short_code VARCHAR(2),short_name VARCHAR(50),plcy_model_id NUMERIC(19,0),PRIMARY KEY (id));
CREATE TABLE PM_ATTRIBUTE_CONFIG (ID BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH +1 INCREMENT BY +1 MINVALUE +1 MAXVALUE +9223372036854775807 NO CYCLE CACHE 20 NO ORDER),created_date TIMESTAMP,last_updated_by NUMERIC(19,0),last_updated TIMESTAMP,created_by NUMERIC(19,0),version NUMERIC(10,0) NOT NULL,data_type VARCHAR(255),name VARCHAR(255),reg_ex_pattern VARCHAR(255),short_name VARCHAR(50),policy_model_id NUMERIC(19,0),plcy_model_id NUMERIC(19,0),PRIMARY KEY (id));
CREATE TABLE PM_ATTRIB_CONFIG_OPER_CONFIG (attribute_id NUMERIC(19,0) NOT NULL,operator_id NUMERIC(19,0) NOT NULL,PRIMARY KEY (attribute_id, operator_id));
CREATE TABLE PM_OBLIGATION_CONFIG (ID BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH +1 INCREMENT BY +1 MINVALUE +1 MAXVALUE +9223372036854775807 NO CYCLE CACHE 20 NO ORDER),created_date TIMESTAMP,last_updated_by NUMERIC(19,0),last_updated TIMESTAMP,created_by NUMERIC(19,0),version NUMERIC(10,0) NOT NULL,name VARCHAR(255),run_at VARCHAR(255),short_name VARCHAR(50),plcy_model_id NUMERIC(19,0),PRIMARY KEY (id));
CREATE TABLE PM_PARAMETER_CONFIG (ID BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH +1 INCREMENT BY +1 MINVALUE +1 MAXVALUE +9223372036854775807 NO CYCLE CACHE 20 NO ORDER),created_date TIMESTAMP,last_updated_by NUMERIC(19,0),last_updated TIMESTAMP,created_by NUMERIC(19,0),version NUMERIC(10,0) NOT NULL,default_value VARCHAR(2000),is_editable NUMERIC(1,0),is_hidden NUMERIC(1,0),is_mandatory NUMERIC(1,0),name VARCHAR(255),short_name VARCHAR(255),data_type VARCHAR(255),obligation_id NUMERIC(19,0),sort_order INTEGER NOT NULL WITH DEFAULT 0,list_values CLOB,PRIMARY KEY (id));
CREATE TABLE POLICY_MODEL (discriminator VARCHAR(31) NOT NULL,ID BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH +1 INCREMENT BY +1 MINVALUE +1 MAXVALUE +9223372036854775807 NO CYCLE CACHE 20 NO ORDER),created_date TIMESTAMP,last_updated_by NUMERIC(19,0),last_updated TIMESTAMP,created_by NUMERIC(19,0),version NUMERIC(10,0) NOT NULL,description VARCHAR(4000),name VARCHAR(264),short_name VARCHAR(50),status VARCHAR(255),type VARCHAR(255),PRIMARY KEY (id));
CREATE TABLE POLICY_MODEL_TAGS (plcy_model_id NUMERIC(19,0) NOT NULL,tag_id NUMERIC(19,0) NOT NULL,PRIMARY KEY (plcy_model_id, tag_id));
CREATE TABLE SAVED_SEARCH (ID BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH +1 INCREMENT BY +1 MINVALUE +1 MAXVALUE +9223372036854775807 NO CYCLE CACHE 20 NO ORDER),created_date TIMESTAMP,last_updated_by NUMERIC(19,0),last_updated TIMESTAMP,created_by NUMERIC(19,0),version NUMERIC(10,0) NOT NULL,criteria_json VARCHAR(4000),description VARCHAR(255),lowercase_name VARCHAR(255),name VARCHAR(255),shared_mode VARCHAR(255),status VARCHAR(255),type VARCHAR(255),PRIMARY KEY (id));
CREATE TABLE TAG_LABELS (ID BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY (START WITH +1 INCREMENT BY +1 MINVALUE +1 MAXVALUE +9223372036854775807 NO CYCLE CACHE 20 NO ORDER),created_date TIMESTAMP,last_updated_by NUMERIC(19,0),last_updated TIMESTAMP,created_by NUMERIC(19,0),version NUMERIC(10,0) NOT NULL,hidden NUMERIC(1,0),tag_key VARCHAR(255),label VARCHAR(255),status VARCHAR(255),type VARCHAR(255),PRIMARY KEY (id));
ALTER TABLE APP_USER_PROPERTIES ADD CONSTRAINT FK87A05FE9B53FEACB FOREIGN KEY (super_user_id) REFERENCES SUPER_APPLICATION_USER;
ALTER TABLE APP_USER_PROPERTIES ADD CONSTRAINT FK87A05FE9A759120A FOREIGN KEY (user_id) REFERENCES APPLICATION_USER;
ALTER TABLE DEVELOPMENT_ENTITIES_TAGS ADD CONSTRAINT FKDB1ED5B379C3E7F9 FOREIGN KEY (dev_entity_id) REFERENCES DEVELOPMENT_ENTITIES;
ALTER TABLE DEVELOPMENT_ENTITIES_TAGS ADD CONSTRAINT FKDB1ED5B3E3AB049A FOREIGN KEY (tag_id) REFERENCES TAG_LABELS;
ALTER TABLE PM_ACTION_CONFIG ADD CONSTRAINT FKEC9D56A94476BBF5 FOREIGN KEY (plcy_model_id) REFERENCES POLICY_MODEL;
ALTER TABLE PM_ATTRIBUTE_CONFIG ADD CONSTRAINT FK85828674476BBF5 FOREIGN KEY (plcy_model_id) REFERENCES POLICY_MODEL;
ALTER TABLE PM_ATTRIBUTE_CONFIG ADD CONSTRAINT FK8582867B27E9A35 FOREIGN KEY (policy_model_id) REFERENCES POLICY_MODEL;
ALTER TABLE PM_ATTRIB_CONFIG_OPER_CONFIG ADD CONSTRAINT FK2AB580A9FC12A4DC FOREIGN KEY (operator_id) REFERENCES OPERATOR_CONFIG;
ALTER TABLE PM_ATTRIB_CONFIG_OPER_CONFIG ADD CONSTRAINT FK2AB580A965AE0D5C FOREIGN KEY (attribute_id) REFERENCES PM_ATTRIBUTE_CONFIG;
ALTER TABLE PM_OBLIGATION_CONFIG ADD CONSTRAINT FK70C823614476BBF5 FOREIGN KEY (plcy_model_id) REFERENCES POLICY_MODEL;
ALTER TABLE PM_PARAMETER_CONFIG ADD CONSTRAINT FK79C446BAFD78E31C FOREIGN KEY (obligation_id) REFERENCES PM_OBLIGATION_CONFIG;
ALTER TABLE POLICY_MODEL_TAGS ADD CONSTRAINT FKDC8BC8BC4476BBF5 FOREIGN KEY (plcy_model_id) REFERENCES POLICY_MODEL;
ALTER TABLE POLICY_MODEL_TAGS ADD CONSTRAINT FKDC8BC8BCE3AB049A FOREIGN KEY (tag_id) REFERENCES TAG_LABELS;
UPDATE OPERATOR_CONFIG SET LABEL = '=' WHERE DATA_TYPE= 'MULTIVAL' AND OPERATOR_KEY = 'equals_unordered';
ALTER TABLE AUDIT_LOGS ALTER COLUMN component SET DATA TYPE VARCHAR(1000);
ALTER TABLE AUDIT_LOGS ALTER COLUMN msgParams SET DATA TYPE VARCHAR(3000);